<h2 mat-dialog-title>Alta de Producto</h2>

<form [formGroup]="productoForm" (ngSubmit)="guardar()" mat-dialog-content class="formulario">

  <mat-form-field appearance="fill">
    <mat-label>Tipo</mat-label>
    <mat-select formControlName="tipo" required (selectionChange)="onTipoChange($event.value)">
      <mat-option value="bidon">Bidón</mat-option>
      <mat-option value="dispenser">Dispenser</mat-option>
      <mat-option value="botella">Botella</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="fill" *ngIf="productoForm.get('tipo')?.value !== 'dispenser'">
    <mat-label>Capacidad</mat-label>
    <input matInput type="number" formControlName="capacidad">
  </mat-form-field>

  <mat-form-field appearance="fill" *ngIf="productoForm.get('tipo')?.value === 'dispenser'">
    <mat-label>Tipo de Dispenser</mat-label>
    <mat-select formControlName="tipoDispenser">
      <mat-option value="Frio-Calor">Frío-Calor</mat-option>
      <mat-option value="Natural">Natural</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Stock</mat-label>
    <input matInput type="number" formControlName="stock" required>
  </mat-form-field>

  <mat-checkbox formControlName="activo">Activo</mat-checkbox>

  <div class="acciones">
    <button mat-button type="button" (click)="cancelar()">Cancelar</button>
    <button mat-raised-button color="primary" type="submit" [disabled]="productoForm.invalid">Guardar</button>
  </div>
</form>
